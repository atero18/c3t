<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This algorithm tries to transform an unfeasible solution that check
connectivity constraint but not one or more size constraints. Even if
the problem is feasible the algorithm doesn't ensure to succeed.
"><title>Resolve an unfeasible regionalisation — resolve_unfeasible • c3t</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Resolve an unfeasible regionalisation — resolve_unfeasible"><meta property="og:description" content="This algorithm tries to transform an unfeasible solution that check
connectivity constraint but not one or more size constraints. Even if
the problem is feasible the algorithm doesn't ensure to succeed.
"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">c3t</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/glossary-en.html">Glossary</a>
    <a class="dropdown-item" href="../articles/glossary-fr.html">Glossaire</a>
    <a class="dropdown-item" href="../articles/introduction-fr.html">Introduction à c3t</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/atero18/c3t/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Resolve an unfeasible regionalisation</h1>
      <small class="dont-index">Source: <a href="https://github.com/atero18/c3t/blob/HEAD/R/resolver.R" class="external-link"><code>R/resolver.R</code></a></small>
      <div class="d-none name"><code>resolve_unfeasible.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This algorithm tries to transform an unfeasible solution that check
connectivity constraint but not one or more size constraints. Even if
the problem is feasible the algorithm doesn't ensure to succeed.
<a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">resolve_unfeasible</span><span class="op">(</span></span>
<span>  distances <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  contiguity <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sizes <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  d <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  m <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  M <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  standardQuant <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  binarQual <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">regionalisation</span>,</span>
<span>  maxItTransfers <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>distances</dt>
<dd><p>The distance matrix of the problem. This can be omitted
if a distance function <code>d</code> and data context <code>data</code> are provided. If only
<code>distances</code> is provided, all distances must be present. (distance matrix)</p></dd>


<dt>contiguity</dt>
<dd><p>A contiguity matrix or an <code>igraph</code> contiguity graph. If not
provided, the problem is considered completely contiguous (all elements are
neighbors of each other).</p></dd>


<dt>sizes</dt>
<dd><p>Represents the size of each element. By default, it is set
to <code>1</code> for each element (the size of a cluster becomes its cardinal).
All data must be positive or zero. (positive real numeric vector)</p></dd>


<dt>d</dt>
<dd><p>Distance function between elements. This can be omitted if
<code>distances</code> is already indicated. If present, <code>data</code> must also be
specified. Some classical distances are available, it is recommended to use
them rather than a personal function for optimisation reasons :</p><ul><li><p>"<code>euclidean</code>": Euclidean distance.</p></li>
<li><p>"<code>manhattan</code>" : Manhattan distance.</p></li>
<li><p>"<code>minkowski</code>" : Minkowski's distance. In that case a value for p &gt;= 1
must be specified.</p></li>
</ul><p>(function or string)</p></dd>


<dt>data</dt>
<dd><p>A data.frame where each row represents data related to an
element. This can be omitted if <code>d</code> is omitted. Present variables can
be quantitative or qualitative. If qualitative variables are present,
some distances may not be used. Possibility of standardising variables and
transforming qualitative variables into binary variables (one-hot encoding)
using <code>standardQuant</code> and <code>binarQual</code>. (data.frame)</p></dd>


<dt>m</dt>
<dd><p>Minimum size constraint. Must be positive or zero and small enough
for the problem to be feasible. Default is <code>0</code> (no constraint).
(positive number)</p></dd>


<dt>M</dt>
<dd><p>Maximum size constraint. Must be positive, superior or equal to <code>m</code>
and large enough for the problem to be feasible.
Default is <code>Inf</code> (no constraint). (positive number)</p></dd>


<dt>standardQuant</dt>
<dd><p><code>TRUE</code> if the variables in <code>data</code> should be
standardised (i.e., centered and scaled), <code>FALSE</code> (default) otherwise.
Standardisation is applied after the possible binarization of qualitative
variables (see <code>binarQual</code>). (flag)</p></dd>


<dt>binarQual</dt>
<dd><p><code>TRUE</code> if qualitative variables should be binarized (one-hot
encoding), for example, to make the data set compatible with common distances
or to standardize these variables. <code>FALSE</code> (default) otherwise. (flag)</p></dd>


<dt>regionalisation</dt>
<dd><p>A partition checking the contiguity constraint but
not checking at least the min or the max size constraint.</p></dd>


<dt>maxItTransfers</dt>
<dd><p>positive integer indicating the maximum number
of elements can be transferred.</p></dd>


<dt>verbose</dt>
<dd><p>Logical indicating whether to display progress messages.
Default is TRUE.</p></dd>


<dt>...</dt>
<dd><p>used for development.</p></dd>

</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123L</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">grid</span>  <span class="op">&lt;-</span> <span class="fu"><a href="gen_grid.html">simple_grid</a></span><span class="op">(</span><span class="fl">4L</span>, <span class="fl">5L</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">grid</span><span class="op">$</span><span class="va">context</span></span></span>
<span class="r-in"><span><span class="va">sizes</span> <span class="op">&lt;-</span> <span class="va">grid</span><span class="op">$</span><span class="va">repartition</span><span class="op">$</span><span class="va">nbIndividuals</span></span></span>
<span class="r-in"><span><span class="va">contiguity</span> <span class="op">&lt;-</span> <span class="va">grid</span><span class="op">$</span><span class="va">contiguity</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fl">200.0</span></span></span>
<span class="r-in"><span><span class="va">M</span> <span class="op">&lt;-</span> <span class="fl">800.0</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="st">"euclidean"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">unfeasibleSolution</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">3L</span>, <span class="fl">2L</span>, <span class="fl">2L</span>, <span class="fl">2L</span>, <span class="fl">2L</span>, <span class="fl">2L</span>, <span class="fl">2L</span>, <span class="fl">4L</span>,</span></span>
<span class="r-in"><span>    <span class="fl">4L</span>, <span class="fl">2L</span>, <span class="fl">4L</span>, <span class="fl">4L</span>, <span class="fl">4L</span>, <span class="fl">4L</span>, <span class="fl">4L</span>, <span class="fl">4L</span>, <span class="fl">4L</span>, <span class="fl">4L</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">resolve_unfeasible</span><span class="op">(</span>contiguity <span class="op">=</span> <span class="va">contiguity</span>,</span></span>
<span class="r-in"><span>                   sizes <span class="op">=</span> <span class="va">sizes</span>,</span></span>
<span class="r-in"><span>                   data <span class="op">=</span> <span class="va">data</span>,</span></span>
<span class="r-in"><span>                   d <span class="op">=</span> <span class="va">d</span>, m <span class="op">=</span> <span class="va">m</span>, M <span class="op">=</span> <span class="va">M</span>,</span></span>
<span class="r-in"><span>                   regionalisation <span class="op">=</span> <span class="va">unfeasibleSolution</span>,</span></span>
<span class="r-in"><span>                   verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $status</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "fully_resolved"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $itTransfers</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $itFusions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $initialSmallRegions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $finalSmallRegions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $initialBigRegions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $finalBigRegions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $resolvedRegions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2 3 4 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $initialRegionsSizes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   2   3   4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  89 811 103 997 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $finalRegionsSizes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   2   3   4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 315 727 274 684 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $regionalisation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 1 2 2 2 1 3 3 3 3 1 4 3 3 4 4 4 3 4 4 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $initialNbClusters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $finalNbClusters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Tangi Tassin.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

